# Instrument code
java -cp /Users/yannic/repositories/regfuzzsym/kelinci-regression/instrumentor/build/libs/kelinci.jar edu.cmu.sv.kelinci.instrumentor.Instrumentor -mode REGRESSION -i bin -o bin-instr -skipmain -export-cfgdir cfg -dist-target "v5_org.apache.commons.cli.CommandLine.hasOption(Ljava/lang/String;)Z:67,v5_org.apache.commons.cli.CommandLine.getOptionObject(Ljava/lang/String;)Ljava/lang/Object;:94,v5_org.apache.commons.cli.CommandLine.getOptionValues(Ljava/lang/String;)[Ljava/lang/String;:148,v5_org.apache.commons.cli.HelpFormatter.printUsage(Ljava/io/PrintWriter;ILjava/lang/String;Lv5_org/apache/commons/cli/Options;)V:457,v5_org.apache.commons.cli.HelpFormatter.printUsage(Ljava/io/PrintWriter;ILjava/lang/String;Lv5_org/apache/commons/cli/Options;)V:478,v5_org.apache.commons.cli.HelpFormatter.appendOptionGroup(Ljava/lang/StringBuffer;Lv5_org/apache/commons/cli/OptionGroup;)V:501,v5_org.apache.commons.cli.HelpFormatter.appendOption(Ljava/lang/StringBuffer;Lv5_org/apache/commons/cli/Option;Z)V:540,v5_org.apache.commons.cli.HelpFormatter.appendOption(Ljava/lang/StringBuffer;Lv5_org/apache/commons/cli/Option;Z)V:550,v5_org.apache.commons.cli.HelpFormatter.findWrapPos(Ljava/lang/String;II)I:796,v5_org.apache.commons.cli.HelpFormatter\$OptionComparator.compare(Ljava/lang/Object;Ljava/lang/Object;)I:904,v5_org.apache.commons.cli.Option.addValue(Ljava/lang/String;)V:408,v5_org.apache.commons.cli.Option.processValue(Ljava/lang/String;)V:443,v5_org.apache.commons.cli.Option.add(Ljava/lang/String;)V:478,v5_org.apache.commons.cli.Option.getValue()Ljava/lang/String;:495,v5_org.apache.commons.cli.Option.getValue(I)Ljava/lang/String;:513,v5_org.apache.commons.cli.Option.getValues()[Ljava/lang/String;:542,v5_org.apache.commons.cli.OptionBuilder.reset()V:71,v5_org.apache.commons.cli.Options.addOption(Lv5_org/apache/commons/cli/Option;)Lv5_org/apache/commons/cli/Options;:157,v5_org.apache.commons.cli.Parser.processProperties(Ljava/util/Properties;)V:248,v5_org.apache.commons.cli.PatternOptionBuilder.isValueCode(C)Z:142"


# Run Kelinci Server
java -cp ./bin-instr/ edu.cmu.sv.kelinci.Kelinci -dist-target "v5_org.apache.commons.cli.CommandLine.hasOption(Ljava/lang/String;)Z:67,v5_org.apache.commons.cli.CommandLine.getOptionObject(Ljava/lang/String;)Ljava/lang/Object;:94,v5_org.apache.commons.cli.CommandLine.getOptionValues(Ljava/lang/String;)[Ljava/lang/String;:148,v5_org.apache.commons.cli.HelpFormatter.printUsage(Ljava/io/PrintWriter;ILjava/lang/String;Lv5_org/apache/commons/cli/Options;)V:457,v5_org.apache.commons.cli.HelpFormatter.printUsage(Ljava/io/PrintWriter;ILjava/lang/String;Lv5_org/apache/commons/cli/Options;)V:478,v5_org.apache.commons.cli.HelpFormatter.appendOptionGroup(Ljava/lang/StringBuffer;Lv5_org/apache/commons/cli/OptionGroup;)V:501,v5_org.apache.commons.cli.HelpFormatter.appendOption(Ljava/lang/StringBuffer;Lv5_org/apache/commons/cli/Option;Z)V:540,v5_org.apache.commons.cli.HelpFormatter.appendOption(Ljava/lang/StringBuffer;Lv5_org/apache/commons/cli/Option;Z)V:550,v5_org.apache.commons.cli.HelpFormatter.findWrapPos(Ljava/lang/String;II)I:796,v5_org.apache.commons.cli.HelpFormatter\$OptionComparator.compare(Ljava/lang/Object;Ljava/lang/Object;)I:904,v5_org.apache.commons.cli.Option.addValue(Ljava/lang/String;)V:408,v5_org.apache.commons.cli.Option.processValue(Ljava/lang/String;)V:443,v5_org.apache.commons.cli.Option.add(Ljava/lang/String;)V:478,v5_org.apache.commons.cli.Option.getValue()Ljava/lang/String;:495,v5_org.apache.commons.cli.Option.getValue(I)Ljava/lang/String;:513,v5_org.apache.commons.cli.Option.getValues()[Ljava/lang/String;:542,v5_org.apache.commons.cli.OptionBuilder.reset()V:71,v5_org.apache.commons.cli.Options.addOption(Lv5_org/apache/commons/cli/Option;)Lv5_org/apache/commons/cli/Options;:157,v5_org.apache.commons.cli.Parser.processProperties(Ljava/util/Properties;)V:248,v5_org.apache.commons.cli.PatternOptionBuilder.isValueCode(C)Z:142" FuzzDriver @@

# Test instrumented code

/Users/yannic/repositories/regfuzzsym/kelinci-regression/fuzzerside/interface -t 20 in_dir/example

# Run Fuzzer
AFL_SKIP_CPUFREQ=1 AFL_I_DONT_CARE_ABOUT_MISSING_CRASHES=1 /Users/yannic/repositories/regfuzzsym/afl/afl-fuzz -i in_dir -o fuzzer-out -c regression -S afl -t 999999999 -r 20 /Users/yannic/repositories/regfuzzsym/kelinci-regression/fuzzerside/interface -t 20 @@

AFL_IMPORT_FIRST=1 AFL_SKIP_CPUFREQ=1 AFL_I_DONT_CARE_ABOUT_MISSING_CRASHES=1 /Users/yannic/repositories/regfuzzsym/afl/afl-fuzz-import -i in_dir -o fuzzer-out -c regression -S afl -t 999999999 -r 20 /Users/yannic/repositories/regfuzzsym/kelinci-regression/fuzzerside/interface -t 20 @@

# Test specific generated input
java -cp bin-instr FuzzDriver fuzzer-out/afl/queue/id


